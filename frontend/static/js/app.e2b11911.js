(function(e){function t(t){for(var r,i,a=t[0],u=t[1],c=t[2],p=0,f=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"2f72":function(e,t,n){},3566:function(e,t,n){"use strict";n("2f72")},3599:function(e,t,n){"use strict";n("e468")},"48d6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("vue-particles",{staticClass:"lizi",attrs:{color:"#555",particleOpacity:.7,particlesNumber:150,shapeType:"circle",particleSize:4,linesColor:"#555",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!1,clickMode:"push"}})],1),n("router-view")],1)},s=[],i=(n("034f"),n("2877")),a={},u=Object(i["a"])(a,o,s,!1,null,null,null),c=u.exports,l=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login-container"}},[n("div",{staticStyle:{"text-align":"center",height:"50px"}},[e._v(" 登录 ")]),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"账号",prop:"user"}},[n("el-input",{attrs:{id:"sb",type:"text",autocomplete:"off"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.Login("ruleForm")}}},[e._v("登录")]),n("el-button",{on:{click:function(t){return e.Register("ruleForm")}}},[e._v("注册")])],1)],1)],1)},f=[],d=(n("ac1f"),n("1276"),{name:"login",data:function(){var e=this,t=function(t,n,r){""===n?r(new Error("请输入账户")):(""!==e.ruleForm.pass&&e.$refs.ruleForm.validateField("pass"),r())},n=function(e,t,n){""===t?n(new Error("请输入密码")):n()};return{ruleForm:{user:"",pass:""},rules:{user:[{validator:t,trigger:"blur"}],pass:[{validator:n,trigger:"blur"}]},isLogin:!1}},methods:{getCookie:function(e){var t="; "+document.cookie,n=t.split("; "+e+"=");if(2===n.length)return n.pop().split(";").shift()},Login:function(e){var t,n=this.ruleForm.user,r=this.ruleForm.pass,o=this;if(n&&r){var s="http://60.205.201.200/account/token/get",i={username:n,password:r};o.$http.post(s,i,{headers:{"X-CSRFToken":this.getCookie("csrftoken")}}).then((function(e){o.$message.success("登录成功"),t=e.data.token,o.$store.commit("setToken",t),o.$router.push({path:"/home"})})).catch((function(e){o.$message.error("请输入正确的账号或密码")}))}else o.$message.error("请输入正确格式")},Register:function(e){var t=this.ruleForm.user,n=this.ruleForm.pass,r=this;if(t&&n){var o="http://60.205.201.200/account/user/register",s={username:t,password:n,is_active:!0};r.$http.post(o,s,{headers:{"X-CSRFToken":this.getCookie("csrftoken")}}).then((function(e){r.$message.success("注册成功!!!")})).catch((function(e){r.$message.error("注册账号失败")}))}else this.$message.error("请输入正确格式");this.$refs[e].resetFields()}}}),h=d,v=(n("a37c"),Object(i["a"])(h,p,f,!1,null,"f2c0b8a2",null)),m=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"left"},[n("Left")],1),n("div",{staticClass:"right"},[n("Right")],1)])},_=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left"},[e._m(0),n("ul",{staticClass:"menu"},[n("li",{on:{click:e.getNovel}},[e._v("轻小说")]),n("li",{on:{click:e.getForeignCurrency}},[e._v("外汇")]),n("li",{on:{click:e.getMovie}},[e._v("电影")]),n("li",{on:{click:e.getHousePrice}},[e._v("房价")])])])},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("b",[e._v("接口列表")])])}],b=new r["default"],y={data:function(){return{}},methods:{isExistsToken:function(){var e=this,t=this.$store.getters.getToken;return t||(e.$message.error("请重新登录"),"")},getNovel:function(){var e=this,t=this.isExistsToken();t?b.$emit("type","hot_novel"):e.$router.push({path:"/"})},getForeignCurrency:function(){var e=this,t=this.isExistsToken();t?b.$emit("type","foreign_currency"):e.$router.push({path:"/"})},getMovie:function(){var e=this,t=this.isExistsToken();t?b.$emit("type","movie"):e.$router.push({path:"/"})},getHousePrice:function(){var e=this,t=this.isExistsToken();t?b.$emit("type","house_price"):e.$router.push({path:"/"})}}},x=y,C=(n("93f0"),Object(i["a"])(x,k,$,!1,null,null,null)),w=C.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right"},["hot_novel"==e.key?n("div",[n("Light")],1):e._e(),"foreign_currency"==e.key?n("div",[e._v(" "+e._s(e.key)+" ")]):e._e(),"movie"==e.key?n("div",[e._v(" "+e._s(e.key)+" ")]):e._e(),"house_price"==e.key?n("div",[e._v(" "+e._s(e.key)+" ")]):e._e()])},T=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"grid"},[n("caption",[e._v("热门轻小说排行榜")]),n("tr",[n("td",e._l(e.sb,(function(t){return n("div",{staticClass:"content"},[n("img",{staticClass:"img",attrs:{src:t.cover,alt:""}}),n("div",{staticClass:"detail"},[n("b",[e._v(e._s(t.title))]),n("p",[e._v("作者:"+e._s(t.author)+"/分类:"+e._s(t.classification)+"/状态:"+e._s(t.status))]),n("p",[e._v("最后更新:"+e._s(t.update))]),n("p",[e._v("长度:"+e._s(t.length))])])])})),0)])]),n("div",{staticClass:"pages"},[n("div",{staticClass:"previous",on:{click:e.previousPage}},[e._v(" 上一页 ")]),n("div",{staticClass:"next",on:{click:e.nextPage}},[e._v(" 下一页 ")])])])},j=[],E={data:function(){return{sb:[],previous:"",next:""}},mounted:function(){var e=this;b.$on("data",(function(t){e.sb=t,console.log(t)})),b.$on("next",(function(t){console.log(t),e.next=t})),b.$on("previous",(function(t){console.log(t),e.previous=t}))},methods:{previousPage:function(){b.$emit("page",this.previous),window.scrollTo(0,0)},nextPage:function(){b.$emit("page",this.next),window.scrollTo(0,0)}}},P=E,S=(n("3599"),Object(i["a"])(P,O,j,!1,null,null,null)),L=S.exports,M={data:function(){return{key:"",result:[]}},mounted:function(){var e=this;b.$on("type",(function(t){e.key=t;var n={Authorization:"Token "+e.$store.getters.getToken,"Content-Type":"application/json"},r="http://60.205.201.200/"+t+"/";e.$http.get(r,{headers:n}).then((function(t){e.result=t["data"]["results"],b.$emit("data",e.result),b.$emit("next",t["data"]["next"]),b.$emit("previous",t["data"]["previous"])}))})),b.$on("page",(function(t){var n={Authorization:"Token "+e.$store.getters.getToken,"Content-Type":"application/json"};e.$http.get(t,{headers:n}).then((function(t){e.result=t["data"]["results"],b.$emit("data",e.result),b.$emit("next",t["data"]["next"]),b.$emit("previous",t["data"]["previous"])}))}))},methods:{},components:{Light:L}},R=M,z=(n("3566"),Object(i["a"])(R,F,T,!1,null,null,null)),N=z.exports,A={data:function(){return{}},methods:{},components:{Left:w,Right:N}},H=A,J=(n("cccb"),Object(i["a"])(H,g,_,!1,null,null,null)),X=J.exports;r["default"].use(l["a"]);var D=[{path:"/",name:"Login",component:m},{path:"/home",name:"home",component:X}],I=new l["a"]({mode:"history",base:"",routes:D}),W=I,q=n("2f62");r["default"].use(q["a"]);var B=new q["a"].Store({state:{token:""},mutations:{setToken:function(e,t){e.token=t,localStorage.token=t}},getters:{getToken:function(e){return e.token||(e.token=localStorage.getItem("token")),e.token}},actions:{}}),G=n("5c96"),K=n.n(G),Q=(n("0fae"),n("98c9")),U=n("bc3a"),V=n.n(U);r["default"].use(Q["a"]),r["default"].use(K.a),r["default"].config.productionTip=!1,r["default"].prototype.$http=V.a,new r["default"]({router:W,store:B,render:function(e){return e(c)}}).$mount("#app")},"5ced":function(e,t,n){},"85ec":function(e,t,n){},"93f0":function(e,t,n){"use strict";n("c2d9")},a37c:function(e,t,n){"use strict";n("48d6")},c2d9:function(e,t,n){},cccb:function(e,t,n){"use strict";n("5ced")},e468:function(e,t,n){}});