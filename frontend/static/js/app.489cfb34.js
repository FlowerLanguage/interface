(function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"2f72":function(t,e,n){},3182:function(t,e,n){},3566:function(t,e,n){"use strict";n("2f72")},3599:function(t,e,n){"use strict";n("e468")},4104:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("vue-particles",{staticClass:"lizi",attrs:{color:"#555",particleOpacity:.7,particlesNumber:150,shapeType:"circle",particleSize:4,linesColor:"#555",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!1,clickMode:"push"}})],1),n("router-view")],1)},s=[],i=(n("034f"),n("2877")),r={},c=Object(i["a"])(r,a,s,!1,null,null,null),l=c.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login-container"}},[n("div",{staticStyle:{"text-align":"center",height:"50px"}},[t._v(" 登录 ")]),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"账号",prop:"user"}},[n("el-input",{attrs:{id:"sb",type:"text",autocomplete:"off"},model:{value:t.ruleForm.user,callback:function(e){t.$set(t.ruleForm,"user",e)},expression:"ruleForm.user"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.Login("ruleForm")}}},[t._v("登录")]),n("el-button",{on:{click:function(e){return t.Register("ruleForm")}}},[t._v("注册")])],1)],1)],1)},h=[],p=(n("ac1f"),n("1276"),{name:"login",data:function(){var t=this,e=function(e,n,o){""===n?o(new Error("请输入账户")):(""!==t.ruleForm.pass&&t.$refs.ruleForm.validateField("pass"),o())},n=function(t,e,n){""===e?n(new Error("请输入密码")):n()};return{ruleForm:{user:"",pass:""},rules:{user:[{validator:e,trigger:"blur"}],pass:[{validator:n,trigger:"blur"}]},isLogin:!1}},methods:{getCookie:function(t){var e="; "+document.cookie,n=e.split("; "+t+"=");if(2===n.length)return n.pop().split(";").shift()},Login:function(t){var e,n=this.ruleForm.user,o=this.ruleForm.pass,a=this;if(n&&o){var s="http://60.205.201.200/account/token/get",i={username:n,password:o};a.$http.post(s,i,{headers:{"X-CSRFToken":this.getCookie("csrftoken")}}).then((function(t){a.$message.success("登录成功"),e=t.data.token,a.$store.commit("setToken",e),a.$store.commit("setId",n),a.$router.push({path:"/home"})})).catch((function(t){a.$message.error("请输入正确的账号或密码")}))}else a.$message.error("请输入正确格式")},Register:function(t){var e=this.ruleForm.user,n=this.ruleForm.pass,o=this;if(e&&n){var a="http://60.205.201.200/account/user/register",s={username:e,password:n,is_active:!0};o.$http.post(a,s,{headers:{"X-CSRFToken":this.getCookie("csrftoken")}}).then((function(t){o.$message.success("注册成功!!!")})).catch((function(t){o.$message.error("注册账号失败")}))}else this.$message.error("请输入正确格式");this.$refs[t].resetFields()}}}),v=p,f=(n("fec1"),Object(i["a"])(v,d,h,!1,null,"bac9ccc4",null)),_=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"left"},[n("Left")],1),n("div",{staticClass:"right"},[n("Right")],1)])},g=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left"},[t._m(0),n("ul",{staticClass:"menu"},[n("li",{on:{click:t.getNovel}},[t._v("轻小说")]),n("li",{on:{click:t.getForeignCurrency}},[t._v("外汇")]),n("li",{on:{click:t.getMovie}},[t._v("电影")]),n("li",{on:{click:t.getHousePrice}},[t._v("房价")])])])},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("b",[t._v("接口列表")])])}],y=new o["default"],x={data:function(){return{first:!1}},methods:{isExistsToken:function(){var t=this,e=this.$store.getters.getToken;return t.first=!0,e||(t.$message.error("请重新登录"),"")},getNovel:function(){var t=this,e=this.isExistsToken();e?y.$emit("type","hot_novel"):t.$router.push({path:"/"})},getForeignCurrency:function(){var t=this,e=this.isExistsToken();e?y.$emit("type","foreign_currency"):t.$router.push({path:"/"})},getMovie:function(){var t=this,e=this.isExistsToken();e?y.$emit("type","movie"):t.$router.push({path:"/"})},getHousePrice:function(){var t=this,e=this.isExistsToken();e?y.$emit("type","house_price"):t.$router.push({path:"/"})},getBook:function(){var t=this,e=this.isExistsToken();e?y.$emit("type","book"):t.$router.push({path:"/"})}}},C=x,b=(n("93f0"),Object(i["a"])(C,$,k,!1,null,null,null)),w=b.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},["hot_novel"==t.key?n("div",[n("Light")],1):t._e(),"foreign_currency"==t.key?n("div",[n("Foreign")],1):t._e(),"movie"==t.key?n("div",[n("Movie")],1):t._e(),"house_price"==t.key?n("div",[n("House")],1):t._e(),1==t.detail?n("div",[n("Detail")],1):t._e(),1==t.download?n("div",{staticClass:"download",on:{click:t.downloadJson}},[n("b",[t._v("下载")])]):t._e(),1==t.refresh_switch?n("div",{staticClass:"refresh",on:{click:t.refresh}},[n("b",[t._v("刷新")])]):t._e()])},O=[],j=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"light_grid"},[n("caption",[t._v("热门轻小说排行榜")]),n("tr",[n("td",t._l(t.sb,(function(e){return n("div",{staticClass:"light_content"},[n("img",{staticClass:"light_img",attrs:{src:e.cover,alt:""}}),n("div",{staticClass:"light_detail"},[n("b",{on:{click:function(n){return t.enterDetail(e)}}},[t._v(t._s(e.title))]),n("p",[t._v("作者:"+t._s(e.author)+"/分类:"+t._s(e.classification)+"/状态:"+t._s(e.status))]),n("p",[t._v("最后更新:"+t._s(e.update))]),n("p",[t._v("长度:"+t._s(e.length))])])])})),0)])]),n("div",{staticClass:"light_pages"},[n("div",{ref:"previous",staticClass:"light_previous",on:{click:t.previousPage}},[t._v(" 上一页 ")]),n("div",{ref:"next",staticClass:"light_next",on:{click:t.nextPage}},[t._v(" 下一页 ")])])])}),F=[],P={data:function(){return{sb:[],previous:"",next:"",isTurnPrevious:!1,isTurnNext:!1}},mounted:function(){var t=this;y.$on("data",(function(e){t.sb=e})),y.$on("next",(function(e){e?(t.$refs.next.style.display="",t.next=e):t.$refs.next.style.display="none"})),y.$on("previous",(function(e){e?(t.$refs.previous.style.display="",t.previous=e):t.$refs.previous.style.display="none"}))},methods:{previousPage:function(){y.$emit("page",this.previous),window.scrollTo(0,0)},nextPage:function(){y.$emit("page",this.next),window.scrollTo(0,0)},enterDetail:function(t){y.$emit("detail",t)}}},E=P,R=(n("3599"),Object(i["a"])(E,j,F,!1,null,null,null)),S=R.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"foreign_table"},[t._m(0),n("tbody",t._l(t.results,(function(e){return n("tr",{staticClass:"foreign_body"},[n("td",[t._v(t._s(e.date))]),n("td",[t._v(t._s(e.close))]),n("td",[t._v(t._s(e.open))]),n("td",[t._v(t._s(e.high))]),n("td",[t._v(t._s(e.low))]),n("td",[t._v(t._s(e.net_chg_pct))]),n("td",[t._v(t._s(e.symbol))])])})),0)]),n("div",{staticClass:"foreign_pages"},[n("div",{staticClass:"foreign_previous",on:{click:t.previousPage}},[t._v(" 上一页 ")]),n("div",{staticClass:"foreign_next",on:{click:t.nextPage}},[t._v(" 下一页 ")])])])},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"foreign_head"},[n("th",[t._v("日期")]),n("th",[t._v("收盘")]),n("th",[t._v("开盘")]),n("th",[t._v("高")]),n("th",[t._v("底")]),n("th",[t._v("涨跌幅")]),n("th",[t._v("类型")])])])}],I={data:function(){return{results:[],previous:"",next:""}},mounted:function(){var t=this;y.$on("data",(function(e){t.results=e})),y.$on("next",(function(e){t.next=e})),y.$on("previous",(function(e){t.previous=e}))},methods:{previousPage:function(){y.$emit("page",this.previous),window.scrollTo(0,0)},nextPage:function(){y.$emit("page",this.next),window.scrollTo(0,0)}}},L=I,M=(n("d78f"),Object(i["a"])(L,z,A,!1,null,null,null)),D=M.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"movie"},[n("div",[n("ul",{staticClass:"movie_year"},t._l(t.year,(function(e,o){return n("li",{style:{"border-bottom":o==t.select?"2px solid red":"none"},on:{click:function(e){return t.choiceYear(o)}}},[t._v(t._s(e))])})),0)]),n("div",[n("table",{staticClass:"movie_table"},[t._m(0),n("tbody",t._l(t.data,(function(e){return n("tr",{staticClass:"movie_content"},[n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.box))]),n("td",[t._v(t._s(e.avg_fare))]),n("td",[t._v(t._s(e.avg_players))]),n("td",[t._v(t._s(e.url))])])})),0)])]),n("div",{staticClass:"movie_pages"},[n("div",{staticClass:"movie_previous",on:{click:t.previousPage}},[t._v(" 上一页 ")]),n("div",{staticClass:"movie_next",on:{click:t.nextPage}},[t._v(" 下一页 ")])])])},X=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("排名")]),n("th",[t._v("票房(万)")]),n("th",[t._v("平均票价")]),n("th",[t._v("场均人数")]),n("th",[t._v("详情")])])])}],N={data:function(){return{year:["全部","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011"],select:0,data:[],previous:"",next:""}},methods:{choiceYear:function(t){this.select=t,"全部"==this.year[this.select]?y.$emit("year","whole"):y.$emit("year",this.year[this.select])},previousPage:function(){y.$emit("page",this.previous),window.scrollTo(0,0)},nextPage:function(){y.$emit("page",this.next),window.scrollTo(0,0)}},mounted:function(){var t=this;y.$on("data",(function(e){t.data=e})),y.$on("next",(function(e){t.next=e})),y.$on("previous",(function(e){t.previous=e}))}},B=N,H=(n("c098"),Object(i["a"])(B,J,X,!1,null,null,null)),U=H.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("select",{attrs:{name:"",id:""},on:{change:function(e){return t.getSelectValue(e)}}},t._l(t.date,(function(e){return n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})),0),n("table",{staticClass:"house_table"},[t._m(0),n("tbody",t._l(t.data,(function(e){return n("tr",{staticClass:"house_body"},[n("td",[t._v(t._s(e.id))]),n("td",[t._v(t._s(e.city))]),n("td",[t._v(t._s(e.avg_unit_price))]),n("td",[t._v(t._s(e.chain_comparison))]),n("td",[t._v(t._s(e.year_on_year))])])})),0)]),n("div",{staticClass:"house_pages"},[n("div",{staticClass:"house_previous",on:{click:t.previousPage}},[t._v(" 上一页 ")]),n("div",{staticClass:"house_next",on:{click:t.nextPage}},[t._v(" 下一页 ")])])])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"house_head"},[n("th",[t._v("序号")]),n("th",[t._v("城市名称")]),n("th",[t._v("平均单价(元/㎡)")]),n("th",[t._v("环比")]),n("th",[t._v("同比")])])])}],K={data:function(){return{data:[],previous:"",next:"",date:[{value:"202102",text:"2021年2月份"},{value:"202104",text:"2021年4月份"}]}},mounted:function(){var t=this;y.$on("data",(function(e){t.data=e})),y.$on("next",(function(e){t.next=e})),y.$on("previous",(function(e){t.previous=e}))},methods:{getSelectValue:function(t){y.$emit("year",t.target.value)},previousPage:function(){y.$emit("page",this.previous),window.scrollTo(0,0)},nextPage:function(){y.$emit("page",this.next),window.scrollTo(0,0)}}},W=K,q=(n("d515"),Object(i["a"])(W,V,Y,!1,null,null,null)),G=q.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" "+t._s(t.sb)+" ")])},Z=[],tt={data:function(){return{sb:0}},mounted:function(){var t=this;y.$on("data",(function(e){t.sb=e}))}},et=tt,nt=Object(i["a"])(et,Q,Z,!1,null,null,null),ot=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("div",{staticClass:"top"},[n("div",{staticClass:"left"},[n("img",{staticClass:"detail_light_img",attrs:{src:t.detail_data.cover,alt:""}}),n("div",{staticClass:"detail_light_detail"},[n("b",{on:{click:function(e){return t.enterDetail(t.item)}}},[t._v(t._s(t.detail_data.title))]),n("p",[t._v("作者:"+t._s(t.detail_data.author))]),n("p",[t._v("状态:"+t._s(t.detail_data.status))]),n("p",[t._v("分类:"+t._s(t.detail_data.classification))]),n("p",[t._v("最后更新:"+t._s(t.detail_data.update))]),n("p",[t._v("长度:"+t._s(t.detail_data.length))]),n("p",[t._v("阅读量:"+t._s(t.this_read_amount))]),n("p",[t._v("收藏量:"+t._s(t.this_collection_amount))]),n("p",[t._v("下载量:"+t._s(t.this_download_amount))])])]),n("div",{staticClass:"right"},[n("div",{staticClass:"light_user"},[t._v(" 用户信息 "),n("div",{staticClass:"user_read"},[n("p",[t._v("我的阅读:")]),n("select",{attrs:{name:"",id:""},on:{change:function(t){}}},t._l(t.read_amount,(function(e){return n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),n("div",{staticClass:"user_collection"},[n("p",[t._v("我的收藏:")]),n("select",{attrs:{name:"",id:""},on:{change:function(t){}}},t._l(t.collection_amount,(function(e){return n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),n("div",{staticClass:"user_download"},[n("p",[t._v("我的下载:")]),n("select",{attrs:{name:"",id:""},on:{change:function(t){}}},t._l(t.download_amount,(function(e){return n("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)])]),n("div",{staticClass:"light_search"},[t._v(" 搜索模块 "),n("ul",[n("li",[t._v(" 标题: "),n("input",{ref:"search_title",staticClass:"title_text",attrs:{type:"text"}})]),n("li",[t._v(" 作者: "),n("input",{ref:"search_author",staticClass:"author_text",attrs:{type:"text"}})]),n("li",[t._v(" 文库: "),n("input",{ref:"search_classification",staticClass:"classification_text",attrs:{type:"text"}})]),n("li",[n("input",{staticClass:"submit",attrs:{type:"submit"},on:{click:t.searchFunc}})])])]),n("div",{staticClass:"light_recommend"},[t._v(" 推荐模块 "),n("div",{staticClass:"recommend_read"},[n("div",[t._v("阅读推荐:")]),n("p",[t._v(t._s(t.read_top.title))])]),n("div",{staticClass:"recommend_collection"},[n("div",[t._v("收藏推荐:")]),n("p",[t._v(t._s(t.collection_top.title))])]),n("div",{staticClass:"recommend_download"},[n("div",[t._v("下载推荐:")]),n("p",[t._v(t._s(t.download_top.title))])])])])]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"operation"},[n("div",{staticClass:"operation_read",on:{click:t.readFunc}},[n("a",{attrs:{href:t.detail_data.read,target:"_blank"}},[t._v("阅读")])]),n("div",{staticClass:"operation_collection",on:{click:t.collectFunc}},[t._v(" 收藏 ")]),n("div",{staticClass:"operation_download",on:{click:t.downloadFunc}},[n("a",{attrs:{href:t.detail_data.download,target:"_blank"}},[t._v("下载")])])]),n("div",{staticClass:"comment"},[n("span",[t._v(" 评论 ")]),n("div",{staticClass:"old_comment"},[n("ul",[t._v(" 全部评论 "),t._l(t.comment_data,(function(e){return n("li",[n("p",[t._v(t._s(e.username)+"：")]),n("div",[t._v(" "+t._s(e.comment)+" ")])])}))],2)]),n("div",{staticClass:"new_comment"},[n("div",[t._v(" 我要评论 "),n("div",[n("input",{ref:"comment_txt",staticClass:"comment_text",attrs:{type:"text"}}),n("input",{staticClass:"comment_submit",attrs:{type:"submit",value:"评论"},on:{click:t.commentFunc}})])])])])])])},st=[],it=n("b85c"),rt=(n("a434"),{data:function(){return{userId:"",detail_data:"",this_read_amount:2,this_collection_amount:3,this_download_amount:10,read_amount:[{value:"",text:"文学少女"},{value:"",text:"月色真美"}],collection_amount:[{value:"",text:"Just Because"},{value:"",text:"实教"}],download_amount:[{value:"",text:"春物"},{value:"",text:"Air"}],read_top:{title:"日常"},collection_top:{title:"overload"},download_top:{title:"神的记事本"},comment_data:[{username:"Kaede枫",comment:"已经完结"},{username:"Akie秋",comment:"已经完结"}]}},mounted:function(){var t=this;y.$on("detail_data",(function(e){t.detail_data=e,t.userId=t.$store.getters.getId;var n={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},o="http://60.205.201.200/operation/";t.$http.get(o,{headers:n}).then((function(e){t.initializeParam()})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))}))},methods:{getCookie:function(t){var e="; "+document.cookie,n=e.split("; "+t+"=");if(2===n.length)return n.pop().split(";").shift()},duplicateRemove:function(t){for(var e=[],n=0;n<t.length;n++)-1==e.indexOf(t[n])&&e.push(t[n]);return e},initializeParam:function(){this.getReadOperation(),this.getCollectionOperation(),this.getDownloadOperation(),this.getCommentOperation(),this.getRecommend()},getTop:function(t,e){if(0==t.length)console.log("没有数据");else{var n,o=this,a={Authorization:"Token "+o.$store.getters.getToken,"Content-Type":"application/json"},s=[],i=[],r=Object(it["a"])(t);try{for(r.s();!(n=r.n()).done;){var c=n.value,l=c.novel_id;-1==i.indexOf(l)?(i.push(l),s.push(1)):s[i.indexOf(l)]=s[i.indexOf(l)]+1}}catch(v){r.e(v)}finally{r.f()}var u=Math.max.apply(null,s),d=s.indexOf(u),h=i[d],p="http://60.205.201.200/hot_novel/?id="+h;o.$http.get(p,{headers:a}).then((function(t){var n=t["data"]["results"][0];"read"==e?o.read_top=n:"collection"==e?o.collection_top=n:o.download_top=n})).catch((function(t){o.$message.error("请重新登录"),o.$router.push("/")}))}},getRecommend:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},n="http://60.205.201.200/operation/?read=1",o="http://60.205.201.200/operation/?collection=1",a="http://60.205.201.200/operation/?download=1";t.$http.get(n,{headers:e}).then((function(e){var n=e["data"]["results"];t.getTop(n,"read")})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")})),t.$http.get(o,{headers:e}).then((function(e){var n=e["data"]["results"];t.getTop(n,"collection")})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")})),t.$http.get(a,{headers:e}).then((function(e){var n=e["data"]["results"];t.getTop(n,"download")})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},getCommentOperation:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},n="http://60.205.201.200/operation/?novel_id="+t.detail_data.id;t.comment_data.splice(0,t.comment_data.length),t.$http.get(n,{headers:e}).then((function(e){var n,o=e["data"]["results"],a=[],s=Object(it["a"])(o);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.comment&&a.push(i)}}catch(r){s.e(r)}finally{s.f()}t.comment_data=a})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},getReadOperation:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},n="http://60.205.201.200/operation/?username="+t.userId+"&read=1";t.$http.get(n,{headers:e}).then((function(n){var o,a=n["data"]["results"],s=[],i=Object(it["a"])(a);try{for(i.s();!(o=i.n()).done;){var r=o.value;s.push(r.novel_id)}}catch(h){i.e(h)}finally{i.f()}if(s=t.duplicateRemove(s),t.read_amount.splice(0,t.read_amount.length),0==s.length)console.log("数据表中没有数据");else{var c,l=Object(it["a"])(s);try{for(l.s();!(c=l.n()).done;){var u=c.value,d="http://60.205.201.200/hot_novel/?id="+u;t.$http.get(d,{headers:e}).then((function(e){t.read_amount.push({value:"",text:e["data"]["results"][0].title})}))}}catch(h){l.e(h)}finally{l.f()}}})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},getCollectionOperation:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},n="http://60.205.201.200/operation/?username="+t.userId+"&collection=1";t.$http.get(n,{headers:e}).then((function(n){var o,a=n["data"]["results"],s=[],i=Object(it["a"])(a);try{for(i.s();!(o=i.n()).done;){var r=o.value;s.push(r.novel_id)}}catch(h){i.e(h)}finally{i.f()}if(s=t.duplicateRemove(s),t.collection_amount.splice(0,t.collection_amount.length),0==s.length)console.log("数据表中没有数据");else{var c,l=Object(it["a"])(s);try{for(l.s();!(c=l.n()).done;){var u=c.value,d="http://60.205.201.200/hot_novel/?id="+u;t.$http.get(d,{headers:e}).then((function(e){t.collection_amount.push({value:"",text:e["data"]["results"][0].title})}))}}catch(h){l.e(h)}finally{l.f()}}})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},getDownloadOperation:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},n="http://60.205.201.200/operation/?username="+t.userId+"&download=1";t.$http.get(n,{headers:e}).then((function(n){var o,a=n["data"]["results"],s=[],i=Object(it["a"])(a);try{for(i.s();!(o=i.n()).done;){var r=o.value;s.push(r.novel_id)}}catch(h){i.e(h)}finally{i.f()}if(s=t.duplicateRemove(s),t.download_amount.splice(0,t.download_amount.length),0==s.length)console.log("数据表中没有数据");else{var c,l=Object(it["a"])(s);try{for(l.s();!(c=l.n()).done;){var u=c.value,d="http://60.205.201.200/hot_novel/?id="+u;t.$http.get(d,{headers:e}).then((function(e){t.download_amount.push({value:"",text:e["data"]["results"][0].title})}))}}catch(h){l.e(h)}finally{l.f()}}})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},commentFunc:function(){var t=this,e=this.$refs.comment_txt.value;if(e){var n={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json","X-CSRFToken":t.getCookie("csrftoken")},o="http://60.205.201.200/operation/",a={username:t.userId,novel_id:t.detail_data["id"],comment:e};t.$http.post(o,a,{headers:n}).then((function(e){t.$message.success("评论成功"),t.$refs.comment_txt.value="",t.getCommentOperation()})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))}else this.$message.error("请输入正确的内容")},readFunc:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json","X-CSRFToken":t.getCookie("csrftoken")},n="http://60.205.201.200/operation/",o={username:t.userId,novel_id:t.detail_data["id"],read:1};t.$http.post(n,o,{headers:e}).then((function(e){t.$message.success("成功跳转到阅读界面"),t.getReadOperation(),t.getRecommend()})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},collectFunc:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json","X-CSRFToken":t.getCookie("csrftoken")},n="http://60.205.201.200/operation/",o={username:t.userId,novel_id:t.detail_data["id"],collection:1};t.$http.post(n,o,{headers:e}).then((function(e){t.$message.success("收藏成功"),t.getCollectionOperation(),t.getRecommend()})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},downloadFunc:function(){var t=this,e={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json","X-CSRFToken":t.getCookie("csrftoken")},n="http://60.205.201.200/operation/",o={username:t.userId,novel_id:t.detail_data["id"],download:1};t.$http.post(n,o,{headers:e}).then((function(e){t.$message.success("成功跳转到下载界面"),t.getDownloadOperation(),t.getRecommend()})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))},searchFunc:function(){var t=this,e=t.$refs.search_title.value,n=t.$refs.search_author.value,o=t.$refs.search_classification.value,a={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"};t.$refs.search_title.value="",t.$refs.search_author.value="",t.$refs.search_classification.value="";var s=!1,i="http://60.205.201.200/hot_novel/?";e&&(i=i+"&title="+e,s=!0),n&&(i=i+"&author="+n,s=!0),o&&(i=i+"&classification="+o,s=!0),s?t.$http.get(i,{headers:a}).then((function(e){var n=e["data"]["results"];0==n.length?t.$message.info("没有检索到对应内容"):(t.$message.success("检索成功"),y.$emit("search_module",e))})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")})):t.$message.warning("请输入后再操作")}}}),ct=rt,lt=(n("6d33"),Object(i["a"])(ct,at,st,!1,null,null,null)),ut=lt.exports,dt={data:function(){return{key:"",result:[],download:!1,detail:!1,detail_data:"",refresh_switch:!1,previous_page:"",next_page:""}},mounted:function(){var t=this;y.$on("type",(function(e){t.key=e,t.detail=!1,t.download=!0;var n={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"};if("movie"==e){var o="http://60.205.201.200/"+e+"/whole/";t.$http.get(o,{headers:n}).then((function(e){t.result=e["data"]["results"],y.$emit("data",t.result),y.$emit("next",e["data"]["next"]),y.$emit("previous",e["data"]["previous"])})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))}else if("house_price"==e){var a="http://60.205.201.200/"+e+"/202102/";t.$http.get(a,{headers:n}).then((function(e){t.result=e["data"]["results"],y.$emit("data",t.result),y.$emit("next",e["data"]["next"]),y.$emit("previous",e["data"]["previous"])})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))}else{var s="http://60.205.201.200/"+e+"/";t.$http.get(s,{headers:n}).then((function(e){t.result=e["data"]["results"],y.$emit("data",t.result),y.$emit("next",e["data"]["next"]),y.$emit("previous",e["data"]["previous"])})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))}})),y.$on("page",(function(e){var n={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"};t.$http.get(e,{headers:n}).then((function(e){t.result=e["data"]["results"],y.$emit("data",t.result),y.$emit("next",e["data"]["next"]),y.$emit("previous",e["data"]["previous"])})).catch((function(e){t.$message.error("不存在该路径"),t.$router.push("/")}))})),y.$on("year",(function(e){var n={Authorization:"Token "+t.$store.getters.getToken,"Content-Type":"application/json"},o="http://60.205.201.200/"+t.key+"/"+e+"/";t.$http.get(o,{headers:n}).then((function(e){t.result=e["data"]["results"],y.$emit("data",t.result),y.$emit("next",e["data"]["next"]),y.$emit("previous",e["data"]["previous"])})).catch((function(e){t.$message.error("请重新登录"),t.$router.push("/")}))})),y.$on("detail",(function(e){t.detail=!0,t.key="",t.detail_data=e,t.download=!1,t.refresh_switch=!0})),y.$on("search_module",(function(e){t.detail=!1,t.key="hot_novel",t.refresh_switch=!0,t.result=e["data"]["results"],t.previous_page=e["data"]["previous"],t.next_page=e["data"]["next"]}))},methods:{downloadJson:function(){var t=new Blob([JSON.stringify(this.result)]),e=window.URL||window.webkitURL||window,n=e.createObjectURL(t),o=document.createElement("a");o.href=n,o.download="接口.txt",o.click(),e.revokeObjectURL(n)},refresh:function(){"hot_novel"==this.key?(y.$emit("data",this.result),y.$emit("next",this.next_page),y.$emit("previous",this.previous_page)):y.$emit("detail_data",this.detail_data),this.refresh_switch=!1}},components:{Light:S,Foreign:D,Movie:U,House:G,Book:ot,Detail:ut}},ht=dt,pt=(n("3566"),Object(i["a"])(ht,T,O,!1,null,null,null)),vt=pt.exports,ft={data:function(){return{}},methods:{},components:{Left:w,Right:vt}},_t=ft,mt=(n("cccb"),Object(i["a"])(_t,m,g,!1,null,null,null)),gt=mt.exports;o["default"].use(u["a"]);var $t=[{path:"/",name:"Login",component:_},{path:"/home",name:"home",component:gt}],kt=new u["a"]({mode:"history",base:"",routes:$t}),yt=kt,xt=n("2f62");o["default"].use(xt["a"]);var Ct=new xt["a"].Store({state:{token:"",userid:""},mutations:{setToken:function(t,e){t.token=e,localStorage.token=e},setId:function(t,e){t.userid=e,localStorage.userid=e}},getters:{getToken:function(t){return t.token||(t.token=localStorage.getItem("token")),t.token},getId:function(t){return t.userid||(t.userid=localStorage.getItem("userid")),t.userid}},actions:{}}),bt=n("5c96"),wt=n.n(bt),Tt=(n("0fae"),n("98c9")),Ot=n("bc3a"),jt=n.n(Ot);o["default"].use(Tt["a"]),o["default"].use(wt.a),o["default"].config.productionTip=!1,o["default"].prototype.$http=jt.a,new o["default"]({router:yt,store:Ct,render:function(t){return t(l)}}).$mount("#app")},"5ced":function(t,e,n){},"67b8":function(t,e,n){},"6d33":function(t,e,n){"use strict";n("3182")},"85ec":function(t,e,n){},"93f0":function(t,e,n){"use strict";n("c2d9")},"9a16":function(t,e,n){},c098:function(t,e,n){"use strict";n("9a16")},c2d9:function(t,e,n){},cccb:function(t,e,n){"use strict";n("5ced")},d515:function(t,e,n){"use strict";n("4104")},d78f:function(t,e,n){"use strict";n("e65b")},e468:function(t,e,n){},e65b:function(t,e,n){},fec1:function(t,e,n){"use strict";n("67b8")}});